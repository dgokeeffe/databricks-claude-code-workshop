{
  "name": "Claude Code Workshop Policy",
  "description": "Cluster policy for Databricks Apps vibe coding workshop with Claude Code. Uses DBR 17.3 ML, single-node dedicated clusters.",
  "definition": {
    "spark_version": {
      "type": "fixed",
      "value": "17.3.x-cpu-ml-scala2.13"
    },
    "node_type_id": {
      "type": "allowlist",
      "values": [
        "Standard_D4ds_v5",
        "Standard_D8ds_v5",
        "Standard_DS3_v2",
        "Standard_DS4_v2"
      ],
      "defaultValue": "Standard_D4ds_v5"
    },
    "num_workers": {
      "type": "fixed",
      "value": 0
    },
    "data_security_mode": {
      "type": "fixed",
      "value": "SINGLE_USER"
    },
    "autotermination_minutes": {
      "type": "range",
      "minValue": 15,
      "maxValue": 120,
      "defaultValue": 30
    },
    "spark_conf.spark.databricks.cluster.profile": {
      "type": "fixed",
      "value": "singleNode"
    },
    "spark_conf.spark.master": {
      "type": "fixed",
      "value": "local[*]"
    },
    "custom_tags.Workshop": {
      "type": "fixed",
      "value": "ClaudeCodeVibeCoding"
    },
    "custom_tags.ResourceClass": {
      "type": "fixed",
      "value": "SingleNode"
    },
    "spark_env_vars.MLFLOW_EXPERIMENT_NAME": {
      "type": "fixed",
      "value": "/Workspace/Shared/claude-code-tracing"
    },
    "init_scripts.0.volumes.destination": {
      "type": "fixed",
      "value": "/Volumes/main/default/coding_assistants/install-claude.sh"
    }
  },
  "max_clusters_per_user": 1
}
